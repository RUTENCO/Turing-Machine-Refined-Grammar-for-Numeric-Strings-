/*
  Archivo: styles.css
  Proyecto: Simulación de Gramática y Máquina de Turing
  Descripción:
    - Define estilos personalizados para la visualización de la gramática y la máquina de Turing.
    - Usa codificación de colores para reglas y pasos.
    - Estiliza la cinta de la máquina de Turing y los elementos activos.
*/

/* ======================= */
/* Fuentes tipográficas    */
/* ======================= */
@import url('https://fonts.googleapis.com/css2?family=Fira+Code&family=Inter:wght@400;700&display=swap');

/* ======================= */
/* Estilos globales        */
/* ======================= */
body.custom-bg {
  font-family: 'Inter', sans-serif;
  /* Fondo degradado suave en diagonal */
  background: linear-gradient(135deg, #e3ecfc 0%, #f5e8fc 100%);
  min-height: 100vh;
}

.container-fluid {
  margin-top: 2rem;
  margin-bottom: 2rem;
  margin-left: 0;
  margin-right: 0;
  
}


input.form-control {
  font-size: 1.15rem;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
}

section {
  margin-bottom: 3rem;
  padding-bottom: 2rem;
  border-bottom: 1px solid #e3ecfc;
}

.btn:focus {
  outline: 2px solid #4e79a7;
  outline-offset: 2px;
}

/* Títulos con fuente monoespaciada */
h1, h2, h3 {
  font-family: 'Fira Code', monospace;
}


/* ====================================== */
/* Estilos específicos para la gramática */
/* ====================================== */

/* Anula cualquier color alterno por defecto */
.grammar-table tbody tr {
  background: none !important;
}

.grammar-table tbody tr:hover > td {
  filter: brightness(1.08);
  /* cursor: pointer; */
}

.grammar-table {
  min-width: 350px;
}
.table-responsive {
  overflow-x: auto;
  width: 100%;
}

/* Codificación por color para cada regla gramatical (r1 a r18) */
/* Colores para la tabla de gramática (fondo de cada regla) */
.grammar-table tbody > tr.r1  > td { background: #1976d2 !important; color: #fff !important; }
.grammar-table tbody > tr.r2  > td { background: #43a047 !important; color: #fff !important; }
.grammar-table tbody > tr.r3  > td { background: #fbc02d !important; color: #fff !important; }
.grammar-table tbody > tr.r4  > td { background: #8e24aa !important; color: #fff !important; }
.grammar-table tbody > tr.r5  > td { background: #e53935 !important; color: #fff !important; }
.grammar-table tbody > tr.r6  > td { background: #00acc1 !important; color: #fff !important; }
.grammar-table tbody > tr.r7  > td { background: #f57c00 !important; color: #fff !important; }
.grammar-table tbody > tr.r8  > td { background: #6d4c41 !important; color: #fff !important; }
.grammar-table tbody > tr.r9  > td { background: #c0ca33 !important; color: #fff !important; }
.grammar-table tbody > tr.r10 > td { background: #3949ab !important; color: #fff !important; }
.grammar-table tbody > tr.r11 > td { background: #00897b !important; color: #fff !important; }
.grammar-table tbody > tr.r12 > td { background: #d81b60 !important; color: #fff !important; }
.grammar-table tbody > tr.r13 > td { background: #ffb300 !important; color: #fff !important; }
.grammar-table tbody > tr.r14 > td { background: #5e35b1 !important; color: #fff !important; }
.grammar-table tbody > tr.r15 > td { background: #43a047 !important; color: #fff !important; }
.grammar-table tbody > tr.r16 > td { background: #039be5 !important; color: #fff !important; }
.grammar-table tbody > tr.r17 > td { background: #c62828 !important; color: #fff !important; }
.grammar-table tbody > tr.r18 > td { background: #7cb342 !important; color: #fff !important; }

/* Fila actualmente activa en la gramática */
.grammar-table tr.active {
  outline: none !important;
  border-left: 8px solid #222 !important;
  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.08);
  /* También se puede usar: filter: brightness(0); */
}

/* ======================================= */
/* Estilos para los pasos de derivación   */
/* ======================================= */

/* Pasos con fuente tipo código */
.list-group-item.step {
  font-family: 'Fira Code', monospace;
}

/* Paso actualmente resaltado */
.list-group-item.highlight {
  background: #e3ecfc;
  border-left: 5px solid #1976d2;
  font-weight: bold;
}

.list-group-item.highlight {
  transition: background 0.3s, border-left 0.3s;
}

.gSteps-container {
  max-height: 260px;      /* Ajusta la altura máxima a tu gusto */
  max-width: 100%;        /* O un ancho fijo si prefieres */
  overflow-y: auto;
  overflow-x: auto;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 12px 0 rgba(106,137,204,0.10);
  margin-bottom: 1.5rem;
  padding: 0.5rem 0;
}
#gSteps {
  min-width: 400px;       /* Fuerza scroll horizontal si hay pasos muy largos */
}

/* Colores en los textos "Regla X" dentro de pasos, igual a los de las filas */
/* Colores para los textos "Regla X" en los pasos */
.step .r1  { color: #1976d2; font-weight: bold; }
.step .r2  { color: #43a047; font-weight: bold; }
.step .r3  { color: #fbc02d; font-weight: bold; }
.step .r4  { color: #8e24aa; font-weight: bold; }
.step .r5  { color: #e53935; font-weight: bold; }
.step .r6  { color: #00acc1; font-weight: bold; }
.step .r7  { color: #f57c00; font-weight: bold; }
.step .r8  { color: #6d4c41; font-weight: bold; }
.step .r9  { color: #c0ca33; font-weight: bold; }
.step .r10 { color: #3949ab; font-weight: bold; }
.step .r11 { color: #00897b; font-weight: bold; }
.step .r12 { color: #d81b60; font-weight: bold; }
.step .r13 { color: #ffb300; font-weight: bold; }
.step .r14 { color: #5e35b1; font-weight: bold; }
.step .r15 { color: #43a047; font-weight: bold; }
.step .r16 { color: #039be5; font-weight: bold; }
.step .r17 { color: #c62828; font-weight: bold; }
.step .r18 { color: #7cb342; font-weight: bold; }

.step .r1,
.step .r2,
.step .r3,
.step .r4,
.step .r5,
.step .r6,
.step .r7,
.step .r8,
.step .r9,
.step .r10,
.step .r11,
.step .r12,
.step .r13,
.step .r14,
.step .r15,
.step .r16,
.step .r17,
.step .r18 {
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0,0,0,0.10);
}

/* =================================== */
/* Estilos para la cinta de la MT     */
/* =================================== */

#tape {
  display: flex;
  justify-content: flex-start;
  flex-wrap: nowrap;
  gap: 4px;
  font-family: 'Fira Code', monospace;
  margin-bottom: 1rem;
  box-shadow: 0 2px 12px 0 rgba(106,137,204,0.10);
  border-radius: 8px;
  padding: 12px 0; /* Solo padding vertical */
  background: #fff;
  overflow-x: auto;
}

.cell:first-child { margin-left: 0; }
.cell:last-child  { margin-right: 8px; }

/* Cinta más suave y moderna */
.cell {
  width: 32px;
  height: 40px;
  border: 1px solid #b8a9f4;      /* Borde lila claro */
  background: #f5fafd;            /* Fondo casi blanco con tinte azul */
  color: #222;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* Celda que representa la posición del cabezal */
.cell.head {
  background: #e3ecfc;            /* Azul claro, combina con el fondo */
  border-color: #6a89cc;          /* Azul suave */
}

.cell.head {
  animation: head-blink 0.5s;
}
@keyframes head-blink {
  0% { box-shadow: 0 0 0 0 #6a89cc; }
  50% { box-shadow: 0 0 10px 2px #6a89cc; }
  100% { box-shadow: 0 0 0 0 #6a89cc; }
}

/* Flecha visual encima del cabezal */
.cell.head::before {
  content: '↓';
  position: absolute;
  top: -18px;
  color: #6a89cc;                 /* Azul suave para la flecha */
  font-size: 1.2em;
}


/* Contenedor con scroll para la tabla de estados de la MT */
.tTable-container {
  max-height: 300px;
  overflow-y: auto;
  overflow-x: auto;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 12px 0 rgba(106,137,204,0.10);
  margin-bottom: 1.5rem;
  width: 100%;
}

#tTable {
  width: 100%;
  min-width: 700px; /* O el valor que prefieras para forzar scroll horizontal */
  border-radius: 10px;
}

/* Estilos para la tabla de transiciones de la MT */

#tTable.table tbody tr.accept td,
#tTable.table-striped tbody tr.accept td,
#tTable tbody tr.accept td {
  background: #d4edda !important;
  color: #155724 !important;
  font-weight: bold !important;
}

#tTable.table tbody tr.reject td,
#tTable.table-striped tbody tr.reject td,
#tTable tbody tr.reject td {
  background: #f8d7da !important;
  color: #721c24 !important;
  font-weight: bold !important;
}

#tTable.table tbody tr.current td,
#tTable.table-striped tbody tr.current td,
#tTable tbody tr.current td {
  background: #f5e8fc !important;         /* Lila claro, acorde al fondo */
  border-left: 6px solid #6a89cc !important; /* Azul suave, acorde a la paleta */
  outline: none !important;
  box-shadow: 0 2px 8px 0 rgba(106,137,204,0.10); /* Sombra azul suave */
  transition: background 0.2s, border-left 0.2s;
}

#tTable thead, 
#tTable thead tr, 
#tTable thead th {
  background: linear-gradient(90deg, #4e79a7 0%, #59a14f 100%) !important;
  color: #fff !important;
  border: none !important;
}


#tTable tbody tr:hover > td {
  background: #e3ecfc !important;
}

/* Opcional: bordes redondeados */
#tTable {
  border-radius: 10px;
  overflow: hidden;
}


/* Botón Anterior: azul */
.btn-prev {
  background: #4e79a7;
  color: #fff;
  border: none;
  transition: background 0.2s;
}
.btn-prev:hover, .btn-prev:focus {
  background: #37608a;
  color: #fff;
}

/* Botón Siguiente: verde */
.btn-next {
  background: #59a14f;
  color: #fff;
  border: none;
  transition: background 0.2s;
}
.btn-next:hover, .btn-next:focus {
  background: #417a3a;
  color: #fff;
}

.alert {
  transition: opacity 0.5s;
}

.main-center {
  margin-left: auto;
  margin-right: auto;
  max-width: 1000px;
  background: transparent;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

@media (max-width: 991px) {
  .main-center {
    max-width: 100%;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
}

@media (max-width: 600px) {
  .container,
  .container-fluid {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    max-width: 100vw;
  }
  section {
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #e3ecfc;
  }
  h1 {
    font-size: 1.2rem;
    margin-bottom: 1rem;
  }
  h2 {
    font-size: 1rem;
    margin-bottom: 0.7rem;
  }
  .cell {
    width: 24px;
    height: 32px;
    font-size: 0.95em;
  }
  .tTable-container, .gSteps-container {
    max-height: 180px;
    padding: 0.25rem 0;
  }
  input.form-control {
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
  }
  .btn {
    font-size: 1rem;
    padding: 0.5rem 0.8rem;
  }
}


/* ============================== */
/* Leyenda (Accordion) personalizado */
/* ============================== */
#legendAccordion {
  margin-bottom: 2rem;
}

/* Título h3 acorde a h2 */
#legendAccordion + .input-group,
#legendAccordion h3 {
  font-family: 'Fira Code', monospace;
  color: #222;           /* color principal */
  margin-bottom: 0.5rem;
}

/* Cada item sin borde duro */
.accordion-item {
  background: rgba(255,255,255,0.8);
  border: none;
  border-radius: 0.5rem;
  margin-bottom: 0.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

/* Botones del accordion igual a los prev/next */
.accordion-button {
  font-family: 'Fira Code', monospace;
  background: #e3ecfc;          /* color suave de fondo */
  color: #333;
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  transition: background 0.2s;
}

/* Icono y texto bien visibles */
.accordion-button::after {
  filter: invert(20%);
}

/* Hover y focus matching botones */
.accordion-button:hover, .accordion-button:focus {
  background: #d1dff8;
  color: #111;
}

/* Cuerpo del acordeón */
.accordion-body {
  background: #fdfdfd;
  padding: 1rem;
  font-size: 0.95rem;
  border-top: 1px solid #e3ecfc;
}

/* Listas internas sin márgenes extra */
.accordion-body ul {
  margin-bottom: 0;
  padding-left: 1.2rem;
}

/* Disminuir padding en móvil */
@media (max-width: 600px) {
  .accordion-button {
    padding: 0.5rem;
    font-size: 0.9rem;
  }
  .accordion-body {
    padding: 0.75rem;
    font-size: 0.9rem;
  }
}


/* ============================== */
/* Ajustes de tipografía y color del acordeón */
/* ============================== */

/* 1) Forzar monospace en los botones del accordion y títulos h3 */
.accordion-button,
#legendAccordion h3 {
  font-family: 'Fira Code', monospace;
  color: #4e79a7;           /* Azul oscuro del tema */
}

/* 2) Colorear los <code>qX</code> dentro del header para que destaquen */
.accordion-button code {
  background: rgba(78, 121, 167, 0.1);  /* Azul muy suave */
  color: #4e79a7;                       /* Azul del tema */
  padding: 0.1em 0.3em;
  border-radius: 0.25rem;
  font-weight: bold;
  font-family: 'Fira Code', monospace;
}

/* 3) Título del acordeón (h3) más grande y con color del tema */
#legendAccordion h3 {
  font-family: 'Fira Code', monospace;
  font-size: 1.25rem;
  margin-bottom: 1rem;
  border-left: 4px solid #4e79a7;
  padding-left: 0.75rem;
}

/* 4) Bordes y fondo del header más sutil */
.accordion-button {
  background: rgba(78, 121, 167, 0.05);
  border: 1px solid rgba(78, 121, 167, 0.2);
}

/* 5) Collapse abierto con fondo ligeramente más oscuro */
.accordion-button:not(.collapsed) {
  background: rgba(78, 121, 167, 0.15);
  color: #2e3e50;
}

/* 6) Ajustes en el body para las listas de estados */
.accordion-body {
  font-family: 'Inter', sans-serif;
  color: #333;
}

/* 7) Pequeños “badges” inline para movimientos */
.accordion-body strong, 
.accordion-body code {
  background: rgba(78, 121, 167, 0.1);
  color: #4e79a7;
  padding: 0.1em 0.3em;
  border-radius: 0.2rem;
  font-weight: 600;
}
